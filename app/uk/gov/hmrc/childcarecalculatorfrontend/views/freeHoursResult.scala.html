@*
 * Copyright 2017 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.childcarecalculatorfrontend.FrontendAppConfig
@import uk.gov.hmrc.childcarecalculatorfrontend.viewmodels.{Section, AnswerSection, RepeaterAnswerSection}
@import uk.gov.hmrc.childcarecalculatorfrontend.models.LocationEnum
@import uk.gov.hmrc.childcarecalculatorfrontend.models.Eligibility
@import uk.gov.hmrc.childcarecalculatorfrontend.models.{Eligible,NotEligible}
@import uk.gov.hmrc.childcarecalculatorfrontend.controllers.routes
@import uk.gov.hmrc.childcarecalculatorfrontend.models.CheckMode

@(appConfig: FrontendAppConfig,
location: String,
eligibility: Eligibility,
answerSections: Seq[Section])(implicit request: Request[_], messages: Messages)

@main_template(
    title = messages("freeHoursResult.title"),
    appConfig = appConfig,
    bodyClasses = None) {

    @components.back_link()

    @components.heading("freeHoursResult.title")

    @if(eligibility == Eligible) {

        <div class="grid-layout grid-layout--stacked">

            <div class="grid-layout__column grid-layout__column--1-2">
                <div class="panel-indent panel-border-wide green">
                    <h2 class="visuallyhidden">Eligible</h2>
                    <ul class="list list-bullet">
                        <li>@messages(s"freeHoursResult.info.entitled.${location}")</li>
                    </ul>
                </div>
            </div>

            <div class="grid-layout__column grid-layout__column--1-2">
                <div class="panel-indent panel-border-wide red">
                    <h2 class="visuallyhidden">Ineligible</h2>
                    <ul class="list list-bullet">
                        <li>@messages("freeHoursResult.info.esc")</li>
                        <li>@messages("freeHoursResult.info.tfc")</li>
                        <li>@messages("freeHoursResult.info.tc")</li>
                    </ul>
                </div>
            </div>
        </div>

    <p>@messages(s"freeHoursResult.partialEligible.guidance.${location}")</p>
    <p class="panel-indent panel-border-wide grey">@messages("freeHoursResult.partialEligible.info1")</p>

    } else {

            <p>@messages("freeHoursResult.notEligibleInfo") </p>

            <div class="panel-indent panel-border-wide red">
                <h2 class="visuallyhidden">Ineligible</h2>
                <ul class="list list-bullet">
                    <li>@messages("freeHoursResult.info.freHours")</li>
                    <li>@messages("freeHoursResult.info.esc")</li>
                    <li>@messages("freeHoursResult.info.tfc")</li>
                    <li>@messages("freeHoursResult.info.tc")</li>
                </ul>
            </div>

            <h2>@messages("freeHoursResult.notEligible.heading")</h2>

            <div id="free-hours-results-not-entitled">
                @if(location == LocationEnum.NORTHERNIRELAND.toString) {
                <p>@messages("freeHoursResult.notEligible.info.northern-ireland")</p>
                } else {
                <p>@messages("freeHoursResult.notEligible.info")</p>
                }
            </div>
    }

    <h2>@messages("freeHoursResult.toBeEligible.heading")</h2>

    @if(eligibility == NotEligible) {
        <p>@messages("freeHoursResult.toBeEligible.info1.start")
            <a id="free-hours-results-child-aged-3-link" href="@routes.ChildAgedThreeOrFourController.onPageLoad(CheckMode)">
                @messages(s"freeHoursResult.toBeEligible.info1.link.text")
            </a>
            @messages("freeHoursResult.toBeEligible.info1.end")
        </p>
     }

    <p>@messages("freeHoursResult.toBeEligible.info2.start")
        <a id="free-hours-results-childCare-cost-link" href="@routes.ChildcareCostsController.onPageLoad(CheckMode)">
            @messages(s"freeHoursResult.toBeEligible.info2.link.text")
        </a>
        @messages("freeHoursResult.toBeEligible.info2.end")
    </p>

    <h2>@messages("freeHoursResult.summary.heading")</h2>

    <p>@messages("freeHoursResult.summary.info")</p>

    <h2>@messages("freeHoursResult.summary.table.header")</h2>

    @for(section <- answerSections){
        @{
            section match {
                case a: AnswerSection => components.answer_section(a)
                case r: RepeaterAnswerSection => components.repeater_answer_section(r)
            }
        }
    }
}
